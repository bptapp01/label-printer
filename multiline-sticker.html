
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Label Generator</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @media print {
            @page {
                margin: 10mm;
                size: A4;
            }
            
            body {
                margin: 0;
                padding: 0;
            }
            
            body * {
                visibility: hidden;
            }
            
            #printArea, #printArea * {
                visibility: visible;
            }
            
            #printArea {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                display: grid !important;
                grid-template-columns: repeat(3, 1fr) !important;
                gap: 8mm !important;
                padding: 0 !important;
            }
            
            .no-print {
                display: none !important;
            }
            
            .sticker {
                width: 60mm !important;
                height: 60mm !important;
                margin: 0 !important;
            }
        }
        
        .sticker-type1 {
            width: 220px;
            height: 220px;
            border: 2px solid #333;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 15px;
            background: white;
            page-break-inside: avoid;
        }
        
        .sticker-type2 {
            width: 220px;
            height: 220px;
            border: 3px double #333;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 20px;
            background: linear-gradient(to bottom, #ffffff 0%, #f8f9fa 100%);
            page-break-inside: avoid;
            box-shadow: inset 0 0 0 1px #e0e0e0;
        }
        
        .sticker-content {
            font-weight: 600;
            line-height: 1.6;
            word-break: break-word;
            color: #1a1a1a;
            width: 100%;
            outline: none;
        }
        
        .sticker-content:focus {
            background: rgba(255, 251, 204, 0.3);
            outline: 2px dashed #4299e1;
            outline-offset: 2px;
        }
        
        .sticker:hover .edit-hint {
            opacity: 1;
        }
        
        .edit-hint {
            opacity: 0;
            transition: opacity 0.2s;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-gray-50 to-gray-100 min-h-screen p-6">
    <div class="max-w-7xl mx-auto">
        <!-- Header -->
        <div class="text-center mb-8 no-print">
            <h1 class="text-4xl font-bold text-gray-800 mb-2">Label Generator</h1>
            <p class="text-gray-600">Create and print custom product labels</p>
        </div>
        
        <!-- Control Panel -->
        <div class="bg-white rounded-xl shadow-md p-6 mb-6 no-print border border-gray-200">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                <!-- Text Input -->
                <div class="lg:col-span-1">
                    <label class="block text-sm font-semibold mb-2 text-gray-700">Label Content</label>
                    <textarea id="labelText" rows="6" class="w-full border border-gray-300 rounded-lg p-3 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition" placeholder="Enter each line&#10;&#10;Example:&#10;Product Name&#10;Category&#10;Code"></textarea>
                </div>
                
                <!-- Settings -->
                <div class="lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-semibold mb-2 text-gray-700">Sticker Type</label>
                        <select id="stickerType" class="w-full border border-gray-300 rounded-lg p-3 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition">
                            <option value="type1">Type 1 - Rounded Border</option>
                            <option value="type2">Type 2 - Double Border</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-semibold mb-2 text-gray-700">Quantity</label>
                        <input type="number" id="stickerCount" value="1" min="1" max="50" class="w-full border border-gray-300 rounded-lg p-3 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-semibold mb-2 text-gray-700">Font Size: <span id="fontSizeValue" class="font-normal text-blue-600">18px</span></label>
                        <input type="range" id="fontSize" min="12" max="28" value="18" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-semibold mb-2 text-gray-700">Font Style</label>
                        <select id="fontStyle" class="w-full border border-gray-300 rounded-lg p-3 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition">
                            <option value="Arial, sans-serif">Arial</option>
                            <option value="'Times New Roman', serif">Times New Roman</option>
                            <option value="'Courier New', monospace">Courier New</option>
                            <option value="Georgia, serif">Georgia</option>
                            <option value="Verdana, sans-serif">Verdana</option>
                            <option value="'Trebuchet MS', sans-serif">Trebuchet MS</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-semibold mb-2 text-gray-700">Text Transform</label>
                        <select id="textTransform" class="w-full border border-gray-300 rounded-lg p-3 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition">
                            <option value="none">Normal</option>
                            <option value="uppercase">UPPERCASE</option>
                            <option value="lowercase">lowercase</option>
                            <option value="capitalize">Capitalize Each Word</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex flex-wrap gap-3 justify-center pt-4 border-t border-gray-200">
                <button id="clearAll" class="bg-gray-600 hover:bg-gray-700 text-white px-8 py-2.5 rounded-lg font-medium transition shadow-sm hover:shadow">
                    Clear All
                </button>
                <button id="printLabels" class="bg-green-600 hover:bg-green-700 text-white px-8 py-2.5 rounded-lg font-medium transition shadow-sm hover:shadow">
                    <span class="mr-2">ðŸ–¨</span> Print Labels
                </button>
            </div>
        </div>
        
        <!-- Preview Area -->
        <div class="bg-white rounded-xl shadow-md p-6 border border-gray-200">
            <div class="flex justify-between items-center mb-4 no-print">
                <h2 class="text-lg font-semibold text-gray-800">Preview</h2>
                <span id="stickerCounter" class="text-sm text-gray-600">0 stickers</span>
            </div>
            <div id="printArea" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 justify-items-center min-h-[200px]">
                <div class="col-span-full text-center text-gray-400 py-12 no-print" id="emptyState">
                    <p class="text-lg">No stickers added yet</p>
                    <p class="text-sm mt-2">Add your first sticker to get started</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        $(document).ready(function() {
            let stickers = [];
            
            function updateCounter() {
                const count = stickers.length;
                $('#stickerCounter').text(count + ' sticker' + (count !== 1 ? 's' : ''));
                
                if (count === 0) {
                    $('#emptyState').show();
                } else {
                    $('#emptyState').hide();
                }
            }
            
            function createSticker() {
                const text = $('#labelText').val().trim();
                const count = parseInt($('#stickerCount').val()) || 1;
                const stickerType = $('#stickerType').val();
                const fontSize = $('#fontSize').val();
                const fontStyle = $('#fontStyle').val();
                const textTransform = $('#textTransform').val();
                
                if (!text) {
                    return;
                }
                
                // Remove old stickers
                $('#printArea .sticker').remove();
                stickers = [];
                
                // Create new stickers
                for (let i = 0; i < count; i++) {
                    const stickerClass = stickerType === 'type1' ? 'sticker-type1' : 'sticker-type2';
                    const sticker = $('<div>').addClass(stickerClass + ' sticker relative');
                    const content = $('<div>').addClass('sticker-content').attr('contenteditable', 'true').css({
                        'font-size': fontSize + 'px',
                        'font-family': fontStyle,
                        'text-transform': textTransform
                    });
                    
                    const lines = text.split('\n');
                    lines.forEach((line, index) => {
                        content.append(line);
                        if (index < lines.length - 1) {
                            content.append('<br>');
                        }
                    });
                    
                    // Delete button
                    const deleteBtn = $('<button>').addClass('no-print absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-7 h-7 text-sm hover:bg-red-600 shadow-md transition z-10').html('&times;');
                    
                    // Edit hint
                    const editHint = $('<div>').addClass('edit-hint no-print absolute bottom-2 left-0 right-0 text-center text-xs text-gray-500 bg-white bg-opacity-90 py-1').text('Click to edit');
                    
                    sticker.append(content).append(deleteBtn).append(editHint);
                    
                    deleteBtn.click(function(e) {
                        e.stopPropagation();
                        sticker.remove();
                        stickers = stickers.filter(s => s[0] !== sticker[0]);
                        updateCounter();
                    });
                    
                    // Make content editable on click
                    content.on('focus', function() {
                        editHint.hide();
                    });
                    
                    content.on('blur', function() {
                        editHint.show();
                    });
                    
                    $('#printArea').append(sticker);
                    stickers.push(sticker);
                }
                
                updateCounter();
            }
            
            // Live updates
            $('#labelText, #stickerCount, #stickerType').on('input change', function() {
                createSticker();
            });
            
            $('#fontSize').on('input', function() {
                const size = $(this).val();
                $('#fontSizeValue').text(size + 'px');
                $('.sticker-content').css('font-size', size + 'px');
            });
            
            $('#fontStyle').on('change', function() {
                const style = $(this).val();
                $('.sticker-content').css('font-family', style);
            });
            
            $('#textTransform').on('change', function() {
                const transform = $(this).val();
                $('.sticker-content').css('text-transform', transform);
            });
            
            // Clear all
            $('#clearAll').click(function() {
                if (stickers.length === 0) {
                    return;
                }
                if (confirm('Are you sure you want to clear all stickers?')) {
                    $('#printArea .sticker').remove();
                    stickers = [];
                    $('#labelText').val('');
                    updateCounter();
                }
            });
            
            // Print
            $('#printLabels').click(function() {
                if (stickers.length === 0) {
                    alert('Please add stickers before printing!');
                    return;
                }
                window.print();
            });
            
            updateCounter();
        });
    </script>
</body>
</html>